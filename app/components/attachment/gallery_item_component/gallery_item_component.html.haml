.gallery-item
  - if displayable_pdf?(blob) || displayable_image?(blob)
    = gallery_link(blob) do
      .thumbnail
        = image_tag(representation_url_for(attachment), loading: :lazy)
        .fr-btn.fr-btn--tertiary.fr-btn--icon-left.fr-icon-eye{ role: :button }
          Visualiser
    - if !gallery_demande?
      .champ-libelle
        = libelle.truncate(25)
    = render Attachment::ShowComponent.new(attachment:, truncate: true, new_tab: gallery_demande?)
  - else
    .thumbnail
      = image_tag('apercu-indisponible.png')
    - if !gallery_demande?
      .champ-libelle
        = libelle.truncate(25)
    = render Attachment::ShowComponent.new(attachment:, truncate: true, new_tab: gallery_demande?)
